274d135546a8a88624c9304734bf83b3
var assignValue = require("./_assignValue"),
    castPath = require("./_castPath"),
    isIndex = require("./_isIndex"),
    isObject = require("./isObject"),
    toKey = require("./_toKey");

function baseSet(object, path, value, customizer) {
  if (!isObject(object)) {
    return object;
  }

  path = castPath(path, object);
  var index = -1,
      length = path.length,
      lastIndex = length - 1,
      nested = object;

  while (nested != null && ++index < length) {
    var key = toKey(path[index]),
        newValue = value;

    if (index != lastIndex) {
      var objValue = nested[key];
      newValue = customizer ? customizer(objValue, key, nested) : undefined;

      if (newValue === undefined) {
        newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};
      }
    }

    assignValue(nested, key, newValue);
    nested = nested[key];
  }

  return object;
}

module.exports = baseSet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9iYXNlU2V0LmpzIl0sIm5hbWVzIjpbImFzc2lnblZhbHVlIiwicmVxdWlyZSIsImNhc3RQYXRoIiwiaXNJbmRleCIsImlzT2JqZWN0IiwidG9LZXkiLCJiYXNlU2V0Iiwib2JqZWN0IiwicGF0aCIsInZhbHVlIiwiY3VzdG9taXplciIsImluZGV4IiwibGVuZ3RoIiwibGFzdEluZGV4IiwibmVzdGVkIiwia2V5IiwibmV3VmFsdWUiLCJvYmpWYWx1ZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFdBQVcsR0FBR0MsT0FBTyxrQkFBekI7QUFBQSxJQUNJQyxRQUFRLEdBQUdELE9BQU8sZUFEdEI7QUFBQSxJQUVJRSxPQUFPLEdBQUdGLE9BQU8sY0FGckI7QUFBQSxJQUdJRyxRQUFRLEdBQUdILE9BQU8sY0FIdEI7QUFBQSxJQUlJSSxLQUFLLEdBQUdKLE9BQU8sWUFKbkI7O0FBZ0JBLFNBQVNLLE9BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCQyxJQUF6QixFQUErQkMsS0FBL0IsRUFBc0NDLFVBQXRDLEVBQWtEO0FBQ2hELE1BQUksQ0FBQ04sUUFBUSxDQUFDRyxNQUFELENBQWIsRUFBdUI7QUFDckIsV0FBT0EsTUFBUDtBQUNEOztBQUNEQyxFQUFBQSxJQUFJLEdBQUdOLFFBQVEsQ0FBQ00sSUFBRCxFQUFPRCxNQUFQLENBQWY7QUFFQSxNQUFJSSxLQUFLLEdBQUcsQ0FBQyxDQUFiO0FBQUEsTUFDSUMsTUFBTSxHQUFHSixJQUFJLENBQUNJLE1BRGxCO0FBQUEsTUFFSUMsU0FBUyxHQUFHRCxNQUFNLEdBQUcsQ0FGekI7QUFBQSxNQUdJRSxNQUFNLEdBQUdQLE1BSGI7O0FBS0EsU0FBT08sTUFBTSxJQUFJLElBQVYsSUFBa0IsRUFBRUgsS0FBRixHQUFVQyxNQUFuQyxFQUEyQztBQUN6QyxRQUFJRyxHQUFHLEdBQUdWLEtBQUssQ0FBQ0csSUFBSSxDQUFDRyxLQUFELENBQUwsQ0FBZjtBQUFBLFFBQ0lLLFFBQVEsR0FBR1AsS0FEZjs7QUFHQSxRQUFJRSxLQUFLLElBQUlFLFNBQWIsRUFBd0I7QUFDdEIsVUFBSUksUUFBUSxHQUFHSCxNQUFNLENBQUNDLEdBQUQsQ0FBckI7QUFDQUMsTUFBQUEsUUFBUSxHQUFHTixVQUFVLEdBQUdBLFVBQVUsQ0FBQ08sUUFBRCxFQUFXRixHQUFYLEVBQWdCRCxNQUFoQixDQUFiLEdBQXVDSSxTQUE1RDs7QUFDQSxVQUFJRixRQUFRLEtBQUtFLFNBQWpCLEVBQTRCO0FBQzFCRixRQUFBQSxRQUFRLEdBQUdaLFFBQVEsQ0FBQ2EsUUFBRCxDQUFSLEdBQ1BBLFFBRE8sR0FFTmQsT0FBTyxDQUFDSyxJQUFJLENBQUNHLEtBQUssR0FBRyxDQUFULENBQUwsQ0FBUCxHQUEyQixFQUEzQixHQUFnQyxFQUZyQztBQUdEO0FBQ0Y7O0FBQ0RYLElBQUFBLFdBQVcsQ0FBQ2MsTUFBRCxFQUFTQyxHQUFULEVBQWNDLFFBQWQsQ0FBWDtBQUNBRixJQUFBQSxNQUFNLEdBQUdBLE1BQU0sQ0FBQ0MsR0FBRCxDQUFmO0FBQ0Q7O0FBQ0QsU0FBT1IsTUFBUDtBQUNEOztBQUVEWSxNQUFNLENBQUNDLE9BQVAsR0FBaUJkLE9BQWpCIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBjYXN0UGF0aCA9IHJlcXVpcmUoJy4vX2Nhc3RQYXRoJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXQ7XG4iXX0=