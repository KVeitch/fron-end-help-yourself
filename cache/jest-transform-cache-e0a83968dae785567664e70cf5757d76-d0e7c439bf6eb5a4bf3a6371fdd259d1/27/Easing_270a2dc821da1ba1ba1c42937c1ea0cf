b79ca0eee908516f86cd0c0ce3ec7160
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _base = require("./base");

var _AnimatedBezier = _interopRequireDefault(require("./core/AnimatedBezier"));

var Easing = function () {
  function Easing() {
    (0, _classCallCheck2.default)(this, Easing);
  }

  (0, _createClass2.default)(Easing, null, [{
    key: "linear",
    value: function linear(t) {
      return t;
    }
  }, {
    key: "ease",
    value: function ease(t) {
      return new _AnimatedBezier.default(t, 0.42, 0, 1, 1);
    }
  }, {
    key: "quad",
    value: function quad(t) {
      return (0, _base.multiply)(t, t);
    }
  }, {
    key: "cubic",
    value: function cubic(t) {
      return (0, _base.multiply)(t, t, t);
    }
  }, {
    key: "poly",
    value: function poly(n) {
      return function (t) {
        return (0, _base.pow)(t, n);
      };
    }
  }, {
    key: "sin",
    value: function sin(t) {
      return (0, _base.sub)(1, (0, _base.cos)((0, _base.multiply)(t, Math.PI, 0.5)));
    }
  }, {
    key: "circle",
    value: function circle(t) {
      return (0, _base.sub)(1, (0, _base.sqrt)((0, _base.sub)(1, (0, _base.multiply)(t, t))));
    }
  }, {
    key: "exp",
    value: function exp(t) {
      return (0, _base.pow)(2, (0, _base.multiply)(10, (0, _base.sub)(t, 1)));
    }
  }, {
    key: "elastic",
    value: function elastic() {
      var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var p = bounciness * Math.PI;
      return function (t) {
        return (0, _base.sub)(1, (0, _base.multiply)((0, _base.pow)((0, _base.cos)((0, _base.multiply)(t, Math.PI, 0.5)), 3), (0, _base.cos)((0, _base.multiply)(t, p))));
      };
    }
  }, {
    key: "back",
    value: function back(s) {
      if (s === undefined) {
        s = 1.70158;
      }

      return function (t) {
        return (0, _base.multiply)(t, t, (0, _base.sub)((0, _base.multiply)((0, _base.add)(s, 1), t), s));
      };
    }
  }, {
    key: "bounce",
    value: function bounce(t) {
      var sq = function sq(v) {
        return (0, _base.multiply)(7.5625, v, v);
      };

      return (0, _base.cond)((0, _base.lessThan)(t, 1 / 2.75), sq(t), (0, _base.cond)((0, _base.lessThan)(t, 2 / 2.75), (0, _base.add)(0.75, sq((0, _base.sub)(t, 1.5 / 2.75))), (0, _base.cond)((0, _base.lessThan)(t, 2.5 / 2.76), (0, _base.add)(0.9375, sq((0, _base.sub)(t, 2.25 / 2.75))), (0, _base.add)(0.984375, sq((0, _base.sub)(t, 2.625 / 2.75))))));
    }
  }, {
    key: "bezier",
    value: function bezier(x1, y1, x2, y2) {
      return function (t) {
        return new _AnimatedBezier.default(t, x1, y1, x2, y2);
      };
    }
  }, {
    key: "in",
    value: function _in(easing) {
      return easing;
    }
  }, {
    key: "out",
    value: function out(easing) {
      return function (t) {
        return (0, _base.sub)(1, easing((0, _base.sub)(1, t)));
      };
    }
  }, {
    key: "inOut",
    value: function inOut(easing) {
      return function (t) {
        return (0, _base.cond)((0, _base.lessThan)(t, 0.5), (0, _base.divide)(easing((0, _base.multiply)(t, 2)), 2), (0, _base.sub)(1, (0, _base.divide)(easing((0, _base.multiply)((0, _base.sub)(1, t), 2)), 2)));
      };
    }
  }]);
  return Easing;
}();

exports.default = Easing;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJFYXNpbmciLCJ0IiwiQW5pbWF0ZWRCZXppZXIiLCJuIiwiTWF0aCIsIlBJIiwiYm91bmNpbmVzcyIsInAiLCJzIiwidW5kZWZpbmVkIiwic3EiLCJ2IiwieDEiLCJ5MSIsIngyIiwieTIiLCJlYXNpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBV0E7O0lBK0NxQkEsTTs7Ozs7OzsyQkFPTEMsQyxFQUFHO0FBQ2YsYUFBT0EsQ0FBUDtBQUNEOzs7eUJBUVdBLEMsRUFBRztBQUNiLGFBQU8sSUFBSUMsdUJBQUosQ0FBbUJELENBQW5CLEVBQXNCLElBQXRCLEVBQTRCLENBQTVCLEVBQStCLENBQS9CLEVBQWtDLENBQWxDLENBQVA7QUFDRDs7O3lCQVFXQSxDLEVBQUc7QUFDYixhQUFPLG9CQUFTQSxDQUFULEVBQVlBLENBQVosQ0FBUDtBQUNEOzs7MEJBUVlBLEMsRUFBRztBQUNkLGFBQU8sb0JBQVNBLENBQVQsRUFBWUEsQ0FBWixFQUFlQSxDQUFmLENBQVA7QUFDRDs7O3lCQVFXRSxDLEVBQUc7QUFDYixhQUFPLFVBQUFGLENBQUM7QUFBQSxlQUFJLGVBQUlBLENBQUosRUFBT0UsQ0FBUCxDQUFKO0FBQUEsT0FBUjtBQUNEOzs7d0JBT1VGLEMsRUFBRztBQUNaLGFBQU8sZUFBSSxDQUFKLEVBQU8sZUFBSSxvQkFBU0EsQ0FBVCxFQUFZRyxJQUFJLENBQUNDLEVBQWpCLEVBQXFCLEdBQXJCLENBQUosQ0FBUCxDQUFQO0FBQ0Q7OzsyQkFPYUosQyxFQUFHO0FBQ2YsYUFBTyxlQUFJLENBQUosRUFBTyxnQkFBSyxlQUFJLENBQUosRUFBTyxvQkFBU0EsQ0FBVCxFQUFZQSxDQUFaLENBQVAsQ0FBTCxDQUFQLENBQVA7QUFDRDs7O3dCQU9VQSxDLEVBQUc7QUFDWixhQUFPLGVBQUksQ0FBSixFQUFPLG9CQUFTLEVBQVQsRUFBYSxlQUFJQSxDQUFKLEVBQU8sQ0FBUCxDQUFiLENBQVAsQ0FBUDtBQUNEOzs7OEJBWThCO0FBQUEsVUFBaEJLLFVBQWdCLHVFQUFILENBQUc7QUFDN0IsVUFBTUMsQ0FBQyxHQUFHRCxVQUFVLEdBQUdGLElBQUksQ0FBQ0MsRUFBNUI7QUFDQSxhQUFPLFVBQUFKLENBQUM7QUFBQSxlQUNOLGVBQ0UsQ0FERixFQUVFLG9CQUFTLGVBQUksZUFBSSxvQkFBU0EsQ0FBVCxFQUFZRyxJQUFJLENBQUNDLEVBQWpCLEVBQXFCLEdBQXJCLENBQUosQ0FBSixFQUFvQyxDQUFwQyxDQUFULEVBQWlELGVBQUksb0JBQVNKLENBQVQsRUFBWU0sQ0FBWixDQUFKLENBQWpELENBRkYsQ0FETTtBQUFBLE9BQVI7QUFLRDs7O3lCQVVXQyxDLEVBQUc7QUFDYixVQUFJQSxDQUFDLEtBQUtDLFNBQVYsRUFBcUI7QUFDbkJELFFBQUFBLENBQUMsR0FBRyxPQUFKO0FBQ0Q7O0FBQ0QsYUFBTyxVQUFBUCxDQUFDO0FBQUEsZUFBSSxvQkFBU0EsQ0FBVCxFQUFZQSxDQUFaLEVBQWUsZUFBSSxvQkFBUyxlQUFJTyxDQUFKLEVBQU8sQ0FBUCxDQUFULEVBQW9CUCxDQUFwQixDQUFKLEVBQTRCTyxDQUE1QixDQUFmLENBQUo7QUFBQSxPQUFSO0FBQ0Q7OzsyQkFPYVAsQyxFQUFHO0FBQ2YsVUFBTVMsRUFBRSxHQUFHLFNBQUxBLEVBQUssQ0FBQUMsQ0FBQztBQUFBLGVBQUksb0JBQVMsTUFBVCxFQUFpQkEsQ0FBakIsRUFBb0JBLENBQXBCLENBQUo7QUFBQSxPQUFaOztBQUNBLGFBQU8sZ0JBQ0wsb0JBQVNWLENBQVQsRUFBWSxJQUFJLElBQWhCLENBREssRUFFTFMsRUFBRSxDQUFDVCxDQUFELENBRkcsRUFHTCxnQkFDRSxvQkFBU0EsQ0FBVCxFQUFZLElBQUksSUFBaEIsQ0FERixFQUVFLGVBQUksSUFBSixFQUFVUyxFQUFFLENBQUMsZUFBSVQsQ0FBSixFQUFPLE1BQU0sSUFBYixDQUFELENBQVosQ0FGRixFQUdFLGdCQUNFLG9CQUFTQSxDQUFULEVBQVksTUFBTSxJQUFsQixDQURGLEVBRUUsZUFBSSxNQUFKLEVBQVlTLEVBQUUsQ0FBQyxlQUFJVCxDQUFKLEVBQU8sT0FBTyxJQUFkLENBQUQsQ0FBZCxDQUZGLEVBR0UsZUFBSSxRQUFKLEVBQWNTLEVBQUUsQ0FBQyxlQUFJVCxDQUFKLEVBQU8sUUFBUSxJQUFmLENBQUQsQ0FBaEIsQ0FIRixDQUhGLENBSEssQ0FBUDtBQWFEOzs7MkJBU2FXLEUsRUFBSUMsRSxFQUFJQyxFLEVBQUlDLEUsRUFBSTtBQUM1QixhQUFPLFVBQUFkLENBQUM7QUFBQSxlQUFJLElBQUlDLHVCQUFKLENBQW1CRCxDQUFuQixFQUFzQlcsRUFBdEIsRUFBMEJDLEVBQTFCLEVBQThCQyxFQUE5QixFQUFrQ0MsRUFBbEMsQ0FBSjtBQUFBLE9BQVI7QUFDRDs7O3dCQUtTQyxNLEVBQVE7QUFDaEIsYUFBT0EsTUFBUDtBQUNEOzs7d0JBS1VBLE0sRUFBUTtBQUNqQixhQUFPLFVBQUFmLENBQUM7QUFBQSxlQUFJLGVBQUksQ0FBSixFQUFPZSxNQUFNLENBQUMsZUFBSSxDQUFKLEVBQU9mLENBQVAsQ0FBRCxDQUFiLENBQUo7QUFBQSxPQUFSO0FBQ0Q7OzswQkFPWWUsTSxFQUFRO0FBQ25CLGFBQU8sVUFBQWYsQ0FBQztBQUFBLGVBQ04sZ0JBQ0Usb0JBQVNBLENBQVQsRUFBWSxHQUFaLENBREYsRUFFRSxrQkFBT2UsTUFBTSxDQUFDLG9CQUFTZixDQUFULEVBQVksQ0FBWixDQUFELENBQWIsRUFBK0IsQ0FBL0IsQ0FGRixFQUdFLGVBQUksQ0FBSixFQUFPLGtCQUFPZSxNQUFNLENBQUMsb0JBQVMsZUFBSSxDQUFKLEVBQU9mLENBQVAsQ0FBVCxFQUFvQixDQUFwQixDQUFELENBQWIsRUFBdUMsQ0FBdkMsQ0FBUCxDQUhGLENBRE07QUFBQSxPQUFSO0FBTUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBjb25kLFxuICBsZXNzVGhhbixcbiAgbXVsdGlwbHksXG4gIHBvdyxcbiAgY29zLFxuICBzcXJ0LFxuICBzdWIsXG4gIGFkZCxcbiAgZGl2aWRlLFxufSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IEFuaW1hdGVkQmV6aWVyIGZyb20gJy4vY29yZS9BbmltYXRlZEJlemllcic7XG5cbi8qKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBpbXBsZW1lbnRzIGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zLiBUaGlzIG1vZHVsZSBpcyB1c2VkXG4gKiBieSBbQW5pbWF0ZS50aW1pbmcoKV0oZG9jcy9hbmltYXRlLmh0bWwjdGltaW5nKSB0byBjb252ZXkgcGh5c2ljYWxseVxuICogYmVsaWV2YWJsZSBtb3Rpb24gaW4gYW5pbWF0aW9ucy5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgYSB2aXN1YWxpemF0aW9uIG9mIHNvbWUgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMgYXRcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC9cbiAqXG4gKiAjIyMgUHJlZGVmaW5lZCBhbmltYXRpb25zXG4gKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBwcm92aWRlcyBzZXZlcmFsIHByZWRlZmluZWQgYW5pbWF0aW9ucyB0aHJvdWdoIHRoZVxuICogZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJhY2tgXShkb2NzL2Vhc2luZy5odG1sI2JhY2spIHByb3ZpZGVzIGEgc2ltcGxlIGFuaW1hdGlvbiB3aGVyZSB0aGVcbiAqICAgb2JqZWN0IGdvZXMgc2xpZ2h0bHkgYmFjayBiZWZvcmUgbW92aW5nIGZvcndhcmRcbiAqIC0gW2Bib3VuY2VgXShkb2NzL2Vhc2luZy5odG1sI2JvdW5jZSkgcHJvdmlkZXMgYSBib3VuY2luZyBhbmltYXRpb25cbiAqIC0gW2BlYXNlYF0oZG9jcy9lYXNpbmcuaHRtbCNlYXNlKSBwcm92aWRlcyBhIHNpbXBsZSBpbmVydGlhbCBhbmltYXRpb25cbiAqIC0gW2BlbGFzdGljYF0oZG9jcy9lYXNpbmcuaHRtbCNlbGFzdGljKSBwcm92aWRlcyBhIHNpbXBsZSBzcHJpbmcgaW50ZXJhY3Rpb25cbiAqXG4gKiAjIyMgU3RhbmRhcmQgZnVuY3Rpb25zXG4gKlxuICogVGhyZWUgc3RhbmRhcmQgZWFzaW5nIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQ6XG4gKlxuICogLSBbYGxpbmVhcmBdKGRvY3MvZWFzaW5nLmh0bWwjbGluZWFyKVxuICogLSBbYHF1YWRgXShkb2NzL2Vhc2luZy5odG1sI3F1YWQpXG4gKiAtIFtgY3ViaWNgXShkb2NzL2Vhc2luZy5odG1sI2N1YmljKVxuICpcbiAqIFRoZSBbYHBvbHlgXShkb2NzL2Vhc2luZy5odG1sI3BvbHkpIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGltcGxlbWVudFxuICogcXVhcnRpYywgcXVpbnRpYywgYW5kIG90aGVyIGhpZ2hlciBwb3dlciBmdW5jdGlvbnMuXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgZnVuY3Rpb25zXG4gKlxuICogQWRkaXRpb25hbCBtYXRoZW1hdGljYWwgZnVuY3Rpb25zIGFyZSBwcm92aWRlZCBieSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJlemllcmBdKGRvY3MvZWFzaW5nLmh0bWwjYmV6aWVyKSBwcm92aWRlcyBhIGN1YmljIGJlemllciBjdXJ2ZVxuICogLSBbYGNpcmNsZWBdKGRvY3MvZWFzaW5nLmh0bWwjY2lyY2xlKSBwcm92aWRlcyBhIGNpcmN1bGFyIGZ1bmN0aW9uXG4gKiAtIFtgc2luYF0oZG9jcy9lYXNpbmcuaHRtbCNzaW4pIHByb3ZpZGVzIGEgc2ludXNvaWRhbCBmdW5jdGlvblxuICogLSBbYGV4cGBdKGRvY3MvZWFzaW5nLmh0bWwjZXhwKSBwcm92aWRlcyBhbiBleHBvbmVudGlhbCBmdW5jdGlvblxuICpcbiAqIFRoZSBmb2xsb3dpbmcgaGVscGVycyBhcmUgdXNlZCB0byBtb2RpZnkgb3RoZXIgZWFzaW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiAtIFtgaW5gXShkb2NzL2Vhc2luZy5odG1sI2luKSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBmb3J3YXJkc1xuICogLSBbYGluT3V0YF0oZG9jcy9lYXNpbmcuaHRtbCNpbm91dCkgbWFrZXMgYW55IGVhc2luZyBmdW5jdGlvbiBzeW1tZXRyaWNhbFxuICogLSBbYG91dGBdKGRvY3MvZWFzaW5nLmh0bWwjb3V0KSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWFzaW5nIHtcbiAgLyoqXG4gICAqIEEgbGluZWFyIGZ1bmN0aW9uLCBgZih0KSA9IHRgLiBQb3NpdGlvbiBjb3JyZWxhdGVzIHRvIGVsYXBzZWQgdGltZSBvbmUgdG9cbiAgICogb25lLlxuICAgKlxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS8jMCwwLDEsMVxuICAgKi9cbiAgc3RhdGljIGxpbmVhcih0KSB7XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgaW5lcnRpYWwgaW50ZXJhY3Rpb24sIHNpbWlsYXIgdG8gYW4gb2JqZWN0IHNsb3dseSBhY2NlbGVyYXRpbmcgdG9cbiAgICogc3BlZWQuXG4gICAqXG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tLyMuNDIsMCwxLDFcbiAgICovXG4gIHN0YXRpYyBlYXNlKHQpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkQmV6aWVyKHQsIDAuNDIsIDAsIDEsIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgcXVhZHJhdGljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0YC4gUG9zaXRpb24gZXF1YWxzIHRoZSBzcXVhcmUgb2YgZWxhcHNlZFxuICAgKiB0aW1lLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1YWRcbiAgICovXG4gIHN0YXRpYyBxdWFkKHQpIHtcbiAgICByZXR1cm4gbXVsdGlwbHkodCwgdCk7XG4gIH1cblxuICAvKipcbiAgICogQSBjdWJpYyBmdW5jdGlvbiwgYGYodCkgPSB0ICogdCAqIHRgLiBQb3NpdGlvbiBlcXVhbHMgdGhlIGN1YmUgb2YgZWxhcHNlZFxuICAgKiB0aW1lLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkN1YmljXG4gICAqL1xuICBzdGF0aWMgY3ViaWModCkge1xuICAgIHJldHVybiBtdWx0aXBseSh0LCB0LCB0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHBvd2VyIGZ1bmN0aW9uLiBQb3NpdGlvbiBpcyBlcXVhbCB0byB0aGUgTnRoIHBvd2VyIG9mIGVsYXBzZWQgdGltZS5cbiAgICpcbiAgICogbiA9IDQ6IGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhcnRcbiAgICogbiA9IDU6IGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVpbnRcbiAgICovXG4gIHN0YXRpYyBwb2x5KG4pIHtcbiAgICByZXR1cm4gdCA9PiBwb3codCwgbik7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW51c29pZGFsIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblNpbmVcbiAgICovXG4gIHN0YXRpYyBzaW4odCkge1xuICAgIHJldHVybiBzdWIoMSwgY29zKG11bHRpcGx5KHQsIE1hdGguUEksIDAuNSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGNpcmN1bGFyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkNpcmNcbiAgICovXG4gIHN0YXRpYyBjaXJjbGUodCkge1xuICAgIHJldHVybiBzdWIoMSwgc3FydChzdWIoMSwgbXVsdGlwbHkodCwgdCkpKSk7XG4gIH1cblxuICAvKipcbiAgICogQW4gZXhwb25lbnRpYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRXhwb1xuICAgKi9cbiAgc3RhdGljIGV4cCh0KSB7XG4gICAgcmV0dXJuIHBvdygyLCBtdWx0aXBseSgxMCwgc3ViKHQsIDEpKSk7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgZWxhc3RpYyBpbnRlcmFjdGlvbiwgc2ltaWxhciB0byBhIHNwcmluZyBvc2NpbGxhdGluZyBiYWNrIGFuZFxuICAgKiBmb3J0aC5cbiAgICpcbiAgICogRGVmYXVsdCBib3VuY2luZXNzIGlzIDEsIHdoaWNoIG92ZXJzaG9vdHMgYSBsaXR0bGUgYml0IG9uY2UuIDAgYm91bmNpbmVzc1xuICAgKiBkb2Vzbid0IG92ZXJzaG9vdCBhdCBhbGwsIGFuZCBib3VuY2luZXNzIG9mIE4gPiAxIHdpbGwgb3ZlcnNob290IGFib3V0IE5cbiAgICogdGltZXMuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRWxhc3RpY1xuICAgKi9cbiAgc3RhdGljIGVsYXN0aWMoYm91bmNpbmVzcyA9IDEpIHtcbiAgICBjb25zdCBwID0gYm91bmNpbmVzcyAqIE1hdGguUEk7XG4gICAgcmV0dXJuIHQgPT5cbiAgICAgIHN1YihcbiAgICAgICAgMSxcbiAgICAgICAgbXVsdGlwbHkocG93KGNvcyhtdWx0aXBseSh0LCBNYXRoLlBJLCAwLjUpKSwgMyksIGNvcyhtdWx0aXBseSh0LCBwKSkpXG4gICAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZSB3aXRoIGBBbmltYXRlZC5wYXJhbGxlbCgpYCB0byBjcmVhdGUgYSBzaW1wbGUgZWZmZWN0IHdoZXJlIHRoZSBvYmplY3RcbiAgICogYW5pbWF0ZXMgYmFjayBzbGlnaHRseSBhcyB0aGUgYW5pbWF0aW9uIHN0YXJ0cy5cbiAgICpcbiAgICogV29sZnJhbSBQbG90OlxuICAgKlxuICAgKiAtIGh0dHA6Ly90aW55LmNjL2JhY2tfZGVmYXVsdCAocyA9IDEuNzAxNTgsIGRlZmF1bHQpXG4gICAqL1xuICBzdGF0aWMgYmFjayhzKSB7XG4gICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiB0ID0+IG11bHRpcGx5KHQsIHQsIHN1YihtdWx0aXBseShhZGQocywgMSksIHQpLCBzKSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBzaW1wbGUgYm91bmNpbmcgZWZmZWN0LlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkJvdW5jZVxuICAgKi9cbiAgc3RhdGljIGJvdW5jZSh0KSB7XG4gICAgY29uc3Qgc3EgPSB2ID0+IG11bHRpcGx5KDcuNTYyNSwgdiwgdik7XG4gICAgcmV0dXJuIGNvbmQoXG4gICAgICBsZXNzVGhhbih0LCAxIC8gMi43NSksXG4gICAgICBzcSh0KSxcbiAgICAgIGNvbmQoXG4gICAgICAgIGxlc3NUaGFuKHQsIDIgLyAyLjc1KSxcbiAgICAgICAgYWRkKDAuNzUsIHNxKHN1Yih0LCAxLjUgLyAyLjc1KSkpLFxuICAgICAgICBjb25kKFxuICAgICAgICAgIGxlc3NUaGFuKHQsIDIuNSAvIDIuNzYpLFxuICAgICAgICAgIGFkZCgwLjkzNzUsIHNxKHN1Yih0LCAyLjI1IC8gMi43NSkpKSxcbiAgICAgICAgICBhZGQoMC45ODQzNzUsIHNxKHN1Yih0LCAyLjYyNSAvIDIuNzUpKSlcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmUsIGVxdWl2YWxlbnQgdG8gQ1NTIFRyYW5zaXRpb25zJ1xuICAgKiBgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25gLlxuICAgKlxuICAgKiBBIHVzZWZ1bCB0b29sIHRvIHZpc3VhbGl6ZSBjdWJpYyBiZXppZXIgY3VydmVzIGNhbiBiZSBmb3VuZCBhdFxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS9cbiAgICovXG4gIHN0YXRpYyBiZXppZXIoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICByZXR1cm4gdCA9PiBuZXcgQW5pbWF0ZWRCZXppZXIodCwgeDEsIHkxLCB4MiwgeTIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzLlxuICAgKi9cbiAgc3RhdGljIGluKGVhc2luZykge1xuICAgIHJldHVybiBlYXNpbmc7XG4gIH1cblxuICAvKipcbiAgICogUnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gYmFja3dhcmRzLlxuICAgKi9cbiAgc3RhdGljIG91dChlYXNpbmcpIHtcbiAgICByZXR1cm4gdCA9PiBzdWIoMSwgZWFzaW5nKHN1YigxLCB0KSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFueSBlYXNpbmcgZnVuY3Rpb24gc3ltbWV0cmljYWwuIFRoZSBlYXNpbmcgZnVuY3Rpb24gd2lsbCBydW5cbiAgICogZm9yd2FyZHMgZm9yIGhhbGYgb2YgdGhlIGR1cmF0aW9uLCB0aGVuIGJhY2t3YXJkcyBmb3IgdGhlIHJlc3Qgb2YgdGhlXG4gICAqIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhdGljIGluT3V0KGVhc2luZykge1xuICAgIHJldHVybiB0ID0+XG4gICAgICBjb25kKFxuICAgICAgICBsZXNzVGhhbih0LCAwLjUpLFxuICAgICAgICBkaXZpZGUoZWFzaW5nKG11bHRpcGx5KHQsIDIpKSwgMiksXG4gICAgICAgIHN1YigxLCBkaXZpZGUoZWFzaW5nKG11bHRpcGx5KHN1YigxLCB0KSwgMikpLCAyKSlcbiAgICAgICk7XG4gIH1cbn1cbiJdfQ==